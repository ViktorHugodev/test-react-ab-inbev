@baseUrl = http://localhost:5244
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0ZmU4M2I1NC1kZDQ5LTQyMTYtOWIyZS01NjVlNjhhN2JmZWMiLCJlbWFpbCI6ImpvYW8uc2lsdmFAZW1wcmVzYS5jb20iLCJqdGkiOiIxM2M0ZGUzNy01ZDM1LTRmYWUtYTg2NS1hN2MzNjEzYWZjZWUiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiSm_Do28gU2lsdmEiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJEaXJlY3RvciIsImV4cCI6MTc0MzAzOTE1NCwiaXNzIjoiQ29tcGFueU1hbmFnZXIiLCJhdWQiOiJDb21wYW55TWFuYWdlckFwaSJ9.OXRwTrJ4cYTlEgvcdkA3EVfRG2Rcv0486E-IksU1lDY

########################
# Autenticação
########################

### Login com o diretor criado no seed
# @name loginDirector
POST {{baseUrl}}/api/Auth/login
Content-Type: application/json

{
  "email": "joao.silva@empresa.com",
  "password": "Senha@123"
}

### Login com outro usuário, se necessário
# @name loginAlternative
POST {{baseUrl}}/api/Auth/login
Content-Type: application/json

{
  "email": "maria.santos@empresa.com",
  "password": "Senha@123"
}

### Obter informações do usuário atual
# @name userInfo
GET {{baseUrl}}/api/Auth/me
Authorization: Bearer {{token}}

########################
# Gerenciamento de Funcionários
########################

### Listar todos os funcionários
# @name getAllEmployees
GET {{baseUrl}}/api/Employees
Authorization: Bearer {{token}}

### Listar funcionários com paginação e filtros
# @name getPagedEmployees
GET {{baseUrl}}/api/Employees/paged?pageNumber=1&pageSize=10&searchTerm=&department=Tecnologia
Authorization: Bearer {{token}}

### Obter um funcionário pelo ID
# @name getEmployeeById
GET {{baseUrl}}/api/Employees/4fe83b54-dd49-4216-9b2e-565e68a7bfec
Authorization: Bearer {{token}}

### Listar funcionários por departamento
# @name getEmployeesByDepartment
GET {{baseUrl}}/api/Employees/department/Tecnologia
Authorization: Bearer {{token}}

### Listar funcionários por gerente
# @name getEmployeesByManager
GET {{baseUrl}}/api/Employees/manager/4fe83b54-dd49-4216-9b2e-565e68a7bfec
Authorization: Bearer {{token}}

### Listar apenas líderes e diretores
# @name getLeadersAndDirectors
GET {{baseUrl}}/api/Employees/leaders-directors
Authorization: Bearer {{token}}

### Criar novo funcionário (requer permissão de Líder ou Diretor)
# @name createEmployee
POST {{baseUrl}}/api/Employees
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "firstName": "Aline",
  "lastName": "Souza",
  "email": "aline.souza@empresa.com",
  "documentNumber": "987.123.654-00",
  "birthDate": "1993-10-12T00:00:00.000Z",
  "password": "AlineSecure#33",
  "role": 1,
  "department": "Marketing",
  "managerId": "4fe83b54-dd49-4216-9b2e-565e68a7bfec",
  "phoneNumbers": [
    {
      "number": "(31) 91234-5678",
      "type": 1
    }
  ]
}

### Atualizar um funcionário existente (requer permissão de Líder ou Diretor)
# @name updateEmployee
PUT {{baseUrl}}/api/Employees/4fe83b54-dd49-4216-9b2e-565e68a7bfec
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "id": "4fe83b54-dd49-4216-9b2e-565e68a7bfec",
  "firstName": "João",
  "lastName": "Silva",
  "email": "joao.silva@empresa.com",
  "documentNumber": "123.456.789-00",
  "birthDate": "1980-01-01T00:00:00.000Z",
  "role": 3,
  "department": "Tecnologia",
  "managerId": null
}

### Atualizar parcialmente um funcionário
# @name updateEmployeePartial
PATCH {{baseUrl}}/api/Employees/4fe83b54-dd49-4216-9b2e-565e68a7bfec
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "id": "4fe83b54-dd49-4216-9b2e-565e68a7bfec",
  "firstName": "João",
  "lastName": "Silva Atualizado"
}

### Atualizar os números de telefone de um funcionário
# @name updateEmployeePhones
PUT {{baseUrl}}/api/Employees/4fe83b54-dd49-4216-9b2e-565e68a7bfec/phones
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "id": "4fe83b54-dd49-4216-9b2e-565e68a7bfec",
  "phoneNumbers": [
    {
      "number": "(11) 98765-4321",
      "type": 1
    },
    {
      "number": "(11) 3333-4444",
      "type": 2
    }
  ]
}

### Atualizar senha de um funcionário
# @name updateEmployeePassword
PUT {{baseUrl}}/api/Employees/4fe83b54-dd49-4216-9b2e-565e68a7bfec/password
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "employeeId": "4fe83b54-dd49-4216-9b2e-565e68a7bfec",
  "currentPassword": "Senha@123",
  "newPassword": "NovaSenha@123",
  "confirmPassword": "NovaSenha@123"
}

### Excluir um funcionário (requer permissão de Diretor)
# @name deleteEmployee
DELETE {{baseUrl}}/api/Employees/00000000-0000-0000-0000-000000000000
Authorization: Bearer {{token}}

########################
# Gerenciamento de Departamentos
########################

### Listar todos os departamentos
# @name getAllDepartments
GET {{baseUrl}}/api/Departments
Authorization: Bearer {{token}}

### Obter um departamento pelo ID
# @name getDepartmentById
GET {{baseUrl}}/api/Departments/00000000-0000-0000-0000-000000000000
Authorization: Bearer {{token}}

### Criar novo departamento (requer permissão de Diretor)
# @name createDepartment
POST {{baseUrl}}/api/Departments
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "name": "Novo Departamento",
  "description": "Descrição do novo departamento"
}

### Atualizar um departamento existente (requer permissão de Diretor)
# @name updateDepartment
PUT {{baseUrl}}/api/Departments/00000000-0000-0000-0000-000000000000
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "id": "00000000-0000-0000-0000-000000000000",
  "name": "Departamento Atualizado",
  "description": "Descrição atualizada"
}

### Ativar um departamento (requer permissão de Diretor)
# @name activateDepartment
PATCH {{baseUrl}}/api/Departments/00000000-0000-0000-0000-000000000000/activate
Authorization: Bearer {{token}}

### Desativar um departamento (requer permissão de Diretor)
# @name deactivateDepartment
PATCH {{baseUrl}}/api/Departments/00000000-0000-0000-0000-000000000000/deactivate
Authorization: Bearer {{token}}

########################
# Verificação de saúde da API
########################

### Verificar status da API
# @name healthCheck
GET {{baseUrl}}/api/Health